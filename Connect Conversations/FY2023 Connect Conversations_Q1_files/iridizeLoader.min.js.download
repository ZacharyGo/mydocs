/*! 
 * Notice - All non Iridize copyrighted codes (e.g. jQuery and plugins)
 * are hereby distributed under the MIT license (not the GPL).
 * 
 * All Iridize copyrighted codes (e.g. everything else in here) are fully
 * copyrighted by Iridize Ltd.
 */
/*!
 * Copyright © 2022, Oracle and/or its affiliates.
 */
(!window.iridizeV3Ajax||!iridizeV3Ajax.version||iridizeV3Ajax.version<3)&&(window.iridizeV3Ajax=function(e){if(!(e.url&&e.jsonpHtmlpost&&e.jsonpCallback&&e.success))return null;var i,r=e.jsonpHtmlpost+"_"+e.jsonpCallback,o=function(t){if(t.data){var n;try{n=JSON.parse(t.data)}catch(t){}if(n&&n[r])if(e.immediateResult||n[r].completed){if(e.immediateResult){if(n[r].completed)return;i=n[r]}if(!i&&n[r].defaultResult&&(i=n[r].defaultResult),i?.data?.completedDelayed)return void(i=void 0);document.body.removeChild(f),window.removeEventListener("message",o,!0);var d=e.immediateResult?"load":n[r].evtType;i&&i.data&&"string"==typeof d&&"load"==d.toLowerCase()?e.success(i.data):(console.log("iridizeV3Ajax() - handleMsg() - jsonpHtmlpostCallback - call error() - evtType =",d),e.error&&e.error({error:i?.error},"parsererror","error"))}else i=n[r]}};function t(e){var i={message:"message"};i[r]={completed:!0,evtType:e.type},postMessage(JSON.stringify(i),"/")}window.addEventListener("message",o,!0);const n=e=>{let i={};for(const r in e)if("object"!=typeof e[r]||null==e[r]||Array.isArray(e[r]))i[r]=e[r];else{const o=n(e[r]);for(const e in o)i[r+"["+e+"]"]=o[e]}return i};var d=e.url+"?htmlpost="+e.jsonpHtmlpost+"&callback="+e.jsonpCallback;const s=n(e.data);for(var a in s)d+="&"+a+"="+s[a];var l=document.createElement("iframe");if(l){l.style="display: none;",l.onload=t,l.onerror=t,l.src=d;var f=document.body.appendChild(l)}return null},iridizeV3Ajax.version=3),
/*!
 * Copyright © 2022, Oracle and/or its affiliates.
 */
(!window.iridizeEmbedCodeWrapper||!iridizeEmbedCodeWrapper.version||iridizeEmbedCodeWrapper.version<5)&&(window.iridizeEmbedCodeWrapper={version:5,iridize_script:function(e,i,r,o,t){window.iridizeInExtV3?r==o-1&&iridize.util.loadV3ReqJS(t):iridize.script(e,i)},iridize_script_ready:function(e,i){window.iridizeInExtV3?iridize.util.loadV3ReqJS_ready(e,i):iridize.script.ready(e,i)},$_ajax:function(e,i){return window.iridizeInExtV3?iridizeV3Ajax(i):e.ajax(i)},stEmbedded:{setPrefix_exit:function(){if(window.iridizeInExtV3){if(iridize.min=iridizeMin,!iridize.prefix&&window.oglInfo&&window.oglInfo.oglServer){const e=/^https/.test(window.oglInfo.oglServer)?window.oglInfo.oglServer:"https://"+window.oglInfo.oglServer;iridize.prefix=e+"/player/latest"}if(!iridize.prefix)for(var e=document.getElementsByTagName("script"),i=e.length-1;i>=0;i--){var r=(e[i].src||"").indexOf("/static/js/iridizeLoader");if(r>0){iridize.prefix=e[i].src.substr(0,r);break}}return iridize.prefix=iridize.prefix||iridizeEmbedPrefix+"/player/latest",!0}return!1}},previewEmbedded:{setPrefix_exit:function(){return!!window.iridizeInExtV3&&(iridize.min=iridizeMin,iridize.jsPrefix=iridizeEmbedPrefix+"/preview/edge/static/js",iridize.prefix=iridizeEmbedPrefix+"/player/latest",!0)}},iridizeLoader:{iridizeEditorNotStarted:function(e){if(console.log("iridizeEditorNotStarted() - begin"),window.iridizeLoaderStarted&&!iridize.enableMoreLoader)return void console.log("iridizeEditorNotStarted() - return by iridizeLoaderStarted-true");if(window.iridizeLoaderStarted=!0,""==iridize.urlForDataBridge)return void e();const i="isEditOrPrevStarted";iridizeV3Ajax({url:iridize.urlForDataBridge||"https://guidedlearning.oracle.com/fe/edge/static/html/flow_editor_ls.html",data:{action:i,method:"get"},jsonpHtmlpost:"iridizeV3AjaxData",jsonpCallback:i+"_get",success:function(r){if(r[i]){var o=r.domain;if(o||window.iridizeExtV3_Domain,!o){o="";for(var t=document.getElementsByTagName("script"),n=t.length-1;n>=0;n--){var d=(t[n].src||"").indexOf("/player/latest/static/js/iridizeLoader");if(d>0){o=t[n].src.substr(0,d);break}}}if(window!==top&&0==window.location.href.indexOf(o))return void e();console.log("iridizeLoader.js - editor is running, refused loading of player code")}else e()},error:function(){console.log("iridizeLoader.js - error - could not detect running of editor"),e()}})},loadScript_exit:function(e){var i,r;return!!window.iridizeInExtV3&&(-1!=e.indexOf(".js")&&(i="./emb/"+(r=(r=e.substr(e.lastIndexOf("/")+1)).substr(0,r.indexOf(".")))+".js"),!i||(document.iridizeExtLoadEmbJS_runtime&&document.iridizeExtLoadEmbJS_runtime(i),!0))},load_config:function(e,i){!iridize.playerAuthNotUsed||window.iridizeInExtV3?iridizeV3Ajax(i):e(i)}}}),
/*!
 * Copyright © 2018, 2021, Oracle and/or its affiliates.
 */
iridizeEmbedCodeWrapper.iridizeLoader.iridizeEditorNotStarted((function(){!function(e){if(!(window.sessionStorage&&"0"===window.sessionStorage.iridizeLoadScript||document.referrer&&document.referrer.search(/\/account\/guide\/(preview|editor)\//)>=0)){sessionStorage.iridizePlayerLoaded="true",e.savedCssPrefix=e.cssPrefix,window.iridizeExtV3_Domain&&(window.iridizeInExtV3={runtime:!0});var i="iridizeLoader script was not found.";if(!p()){e.loadScripts=e.loadScripts||[],e.loadCss=e.loadCss||[];var r=m("stLoadScript"),o=window.location.protocol,t=window.location.href,n=t.indexOf("stEnv")>=0?m("stEnv"):"";e.minJqVersion=e.minJqVersion||"3.0.0",e.maxJqVersion=e.maxJqVersion||"3.6.0",e.captureScreenshotWithTip=e.captureScreenshotWithTip||!0;var d="__host_cloud_config",s="An error occurred while fetching configurations.";if("false"!==r){n&&(e.env=n),function(){var r,n,d,s,a;if(window.oglInfo&&window.oglInfo.oglServer){const i=/^https/.test(window.oglInfo.oglServer)?window.oglInfo.oglServer:"https://"+window.oglInfo.oglServer;e.prefix=e.reportPrefix=i+"/player/latest"}if(void 0===e.min||!e.jsPrefix||!e.prefix){var l=w();l?(d=l.scriptSrc,r=l.SupportTipPos,void 0===e.min&&(e.min=d.indexOf(".min.js")>=0?".min":""),t.indexOf("stMin")>=0&&(e.min=m("stMin")&&"1"===m("stMin")?".min":""),e.jsPrefix=e.jsPrefix||d.substr(0,r),0===e.jsPrefix.indexOf("//")&&(e.jsPrefix=o+e.jsPrefix),e.prefix||(n=d.lastIndexOf("/static"),e.prefix=d.substr(0,n)),0===e.prefix.indexOf("//")&&(e.prefix=o+e.prefix),t.indexOf("stVer")>=0&&(s=m("stVer")||"edge",a="latest",e.jsPrefix.indexOf("edge")>=0&&(a="edge"),e.jsPrefix=e.jsPrefix.replace(a,s),e.prefix=e.prefix.replace(a,s))):console.warn(i)}}(),null==e.stateOnly&&(e.stateOnly=window!=top||void 0),null==e.showStartPanel&&(e.showStartPanel=window==top&&void 0),!1!==e.loadJQuery&&(e.loadJQuery=!0),e.setupCloudConfig=v;var a=e.prefix,l=!1,f=localStorage.getItem("bustCloudConfigCache");l=null!==f?"true"===f:"dev"===e.env;var c={host:e.ignoreCloudConfig?"*":encodeURIComponent(function(e){return e.split(/[?#]/)[0]}(t)),env:e.env||"prod"};!0===l&&(c._=Math.round((new Date).getTime()/1e3)),e.appId?iridizeEmbedCodeWrapper.iridizeLoader.load_config((function(e){try{var i=document.createElement("script");i.type="text/javascript",i.onerror=function(r){e.error({},"","",i)},window[d]=function(r){200==r.status&&e.success(r),z(i)};var r=e.url+"?callback="+e.jsonpCallback;for(var o in e.data)r+="&"+o+"="+e.data[o];i.src=r,document.getElementsByTagName("head")[0].appendChild(i)}catch(e){console.error(s)}}),{immediateResult:!0,url:a+"/api/config/"+e.appId+"/",data:c,scriptCharset:"utf-8",contentType:"application/javascript; charset=utf-8",jsonpCallback:d,jsonpHtmlpost:"iridizeV3AjaxData",success:function(i){if(200==i.status){if((window.AdfPage||window.faConfig&&null!=window.faConfig.OJ_SP_VERSION)&&(e.useSessionStorage=!0,e.contextualMode=!1,e.autoSegmentation=!0,e.adfApp=!!window.AdfPage),e.adfApp&&e("api.route.wait",{}),i.timestamp=(new Date).getTime(),sessionStorage.setItem(e.appId+"_cloudconfig",JSON.stringify(i)),v(e.appId),x(i.settings,i.roleMapping),e.themeVersion=i.appDetail.themeVersion,e.overrideJsPrefix&&(e.jsPrefix=e.overrideJsPrefix,p()))return void(e.cssPrefix=e.savedCssPrefix);!function(){var i,r,t=function(){e.$=i.sub?i.sub():i,u(e.jsPrefix+"/js/stBaseNoJq"+e.min+".js")};void 0===e.cssPrefix?(e.cssPrefix=e.jsPrefix,e.themeUrl=e.prefix+`/api/app/${e.appId}/theme.css`):(0===e.cssPrefix.indexOf("//")&&(e.cssPrefix=o+e.cssPrefix),e.themeUrl=e.cssPrefix+"/css/theme.css"),"dev"===e.env&&(e.themeUrl=`${e.themeUrl}?env=dev&&_=${Math.round((new Date).getTime()/1e3)}`),e.loadCss.push(e.themeUrl);var n=e.themeVersion>1?"stTip_"+e.themeVersion:"stTip";e.loadCss.push(e.cssPrefix+"/css/"+n+e.min+".css"),void 0===e.master?(i=window.jQuery||void 0,!1===e.loadJQuery?(console.warn("Please note that OGL JQuery is not used. Issues may occur."),i?t():r=setInterval((function(){(i=window.jQuery)&&(t(),clearInterval(r))}),200)):u(e.jsPrefix+"/js/stBase"+e.min+".js")):e.master.init()}()}else this.error(i,"","")},error:function(e,i,r,o){console.warn(e.error||s),o&&z(o)}}):console.warn("Cannot load OGL, missing appid.")}}}function p(){if(e.jsPrefix&&!window.iridizeInExtV3){var r,o,t=w();if(!t)return console.warn(i),!0;if(e.min=void 0===e.min?".min":e.min,r=t.scriptSrc,o=t.SupportTipPos,r.substr(0,o)!==e.jsPrefix){var n=document.createElement("script"),d=document.body;return n.src=e.jsPrefix+"/js/iridizeLoader"+e.min+".js",n.type="text/javascript",n.async=!0,d.appendChild(n),window.iridizeLoaderStarted=!1,!0}}return!1}function u(e){if(!iridizeEmbedCodeWrapper.iridizeLoader.loadScript_exit(e)){var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.async=1,r.src=e,i.insertBefore(r,i.firstChild)}}function w(){var e,i,r,o;for(i=(e=document.getElementsByTagName("script")).length-1;i>=0;i--)if((r=(o=e[i].src).indexOf("/js/iridizeLoader"))>0)return{SupportTipPos:r,scriptSrc:o}}function m(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===i?"":i[1]}function g(e,i){if(e&&e.length>0){var r="";for(var o in i)e.indexOf(o)>=0&&(r=r+"|"+i[o]);return r.length>0&&(r+="|"),r}return""}function x(i,r){var o={};if(window.oglInfo){var t={};t=window.oglInfo.oldRoleMapping?Object.assign({},window.oglInfo.oldRoleMapping,r):r,window.oglInfo.user_role&&(window.oglInfo.fields.user_role=window.oglInfo.user_role),o=function(e,i,r,o){var t={};if(e&&(t=JSON.parse(JSON.stringify(e))),o){var n="";t.user_role&&(n=t.user_role),g(i,o)&&(t.user_role=n+g(i,o))}return t}(window.oglInfo.fields,window.oglInfo.fusionRoles,0,t)}o&&Object.keys(o).length>0&&e("api.fields.set",o)}function v(i){var r=JSON.parse(sessionStorage.getItem(i+"_cloudconfig"));!function(i,r,o){null!=r&&(e.supported_langs=r);var t=window.oglInfo&&window.oglInfo.fields&&window.oglInfo.fields.user_id||window.ir_fields&&window.ir_fields.user_id;for(var n in i&&i.setAnonymousUserRole&&!t&&(e.anonymousUser=!0),i)o.indexOf(n)<0&&(e[n]=i[n])}(r.settings,r.supportedLangs,["roleMapping","userFields","timestamp"])}function z(e){document.getElementsByTagName("head")[0].removeChild(e),e=null,delete window[d]}}(iridize)}));